<!DOCTYPE html>
<html lang="ko" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" 
    content="width=device-width, 
    initial-scale=1.0">
    <title>Secure Checkout | Hanajeon</title>
    
    <script src="https://js.tosspayments.com/v2/standard"></script>

    <!-- Tailwind CSS -->
    <script 
    src="https://cdn.tailwindcss.com"><
    /script>
    <head>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        brand: {
                            500: '#14b8a6',
                            600: '#0d9488',
                            900: '#0f766e',
                        },
                        dark: {
                            bg: '#0a0a0a',
                            surface: '#121212',
                            border: '#2a2a2a'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-feature-settings: "cv11", "ss01";
            background-color: #F9F8F6;
            color: #1a1a1a;
        }
        
        .glass-panel {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 0, 0, 0.05);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        }
        
        .input-field {
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(0, 0, 0, 0.1);
            color: #1a1a1a;
            transition: all 0.2s;
        }
        .input-field:focus {
            outline: none;
            border-color: #14b8a6;
            background: white;
        }

        .logo {
            font-family: 'Inter', 'Pretendard', sans-serif;
            font-weight: 600;
            letter-spacing: 0.02em;
        }
        .logo-frame {
            width: 18px;
            height: 18px;
            border: 1.5px solid #1C1C1C;
            display: inline-block;
            margin-right: 8px;
        }
        .subtitle {
            font-size: 14px;
            color: #555;
            margin-top: 4px;
        }
    </style> 
</head>
<body class="selection:bg-teal-500 selection:text-white flex flex-col min-h-screen">

    <!-- Simple Header -->
    <nav class="border-b border-gray-200 bg-white/50 backdrop-blur-md sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-6 h-16 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <span class="logo-frame"></span>
                <span class="logo"><span style="color:#14b8a6">ONE</span><span style="color:#0e1a2b">FRAME</span></span>
            </div>
            <div class="flex items-center gap-2 text-xs text-green-600">
                <i data-lucide="lock" class="w-3 h-3"></i>
                Secure Connection
            </div>
        </div>
    </nav>

    <!-- Product Detail (Top) -->
    <!-- Payment Section -->
<section class="px-6 pb-16">
  <div class="max-w-5xl mx-auto bg-white border border-gray-200 rounded-2xl p-6 md:p-8">
    <h2 class="text-xl font-bold text-gray-900 mb-4">
      결제 수단 선택
    </h2>

    <!-- 토스 결제 UI가 렌더링될 영역 -->
    <div id="payment-method"></div>

    <button
      id="payment-button"
      class="mt-6 w-full bg-black text-white py-4 rounded-xl font-semibold hover:bg-gray-800"
    >
      결제하기
    </button>
<script>
  const clientKey = "test_ck_KNbdOvk5rkWko9Ymxg7Ern07xlzm";

  const tossPayments = TossPayments(clientKey);

  const widgets = tossPayments.widgets({
    customerKey: "customer_001",
  });

  widgets.setAmount({
    currency: "KRW",
    value: 39000,
  });

  widgets.renderPaymentMethods({
    selector: "#payment-method",
    variantKey: "DEFAULT",
  });

  document
    .getElementById("payment-button")
    .addEventListener("click", async () => {
      await widgets.requestPayment({
        orderId: "order_" + new Date().getTime(),
        orderName: "ONEFRAME 전자책",
        successUrl: window.location.origin + "/success.html",
        failUrl: window.location.origin + "/fail.html",
      });
    });
</script>
      <script>
  const clientKey = "test_ck_KNbdOvk5rkWko9Ymxg7Ern07xlzm"; // 네 Client Key
  const tossPayments = TossPayments(clientKey);

  const widgets = tossPayments.widgets({
    customerKey: "customer_001",
  });

  widgets.setAmount({
    currency: "KRW",
    value: 39000,
  });

  widgets.renderPaymentMethods({
    selector: "#payment-method",
    variantKey: "DEFAULT",
  });

  document
    .getElementById("payment-button")
    .addEventListener("click", async () => {
      await widgets.requestPayment({
        orderId: "order_" + new Date().getTime(),
        orderName: "ONEFRAME 전자책",
        successUrl: window.location.origin + "/success.html",
        failUrl: window.location.origin + "/fail.html",
      });
    });
</script>
  </div>
</section>
    <section class="px-6 py-8">
        <div class="max-w-5xl mx-auto bg-white/70 border border-gray-200 rounded-2xl p-6 md:p-8">
            <h1 class="text-2xl md:text-3xl font-bold text-gray-900">ONEFRAME – 전자책 완주를 위한 0번 기획 시스템 (Premium Edition)</h1>
            <div class="mt-2 text-lg font-semibold text-gray-900">가격: ₩39,000 <span class="text-gray-500 text-sm">(부가세 포함)</span></div>
            <div class="mt-6 space-y-3 text-gray-700 leading-relaxed text-sm md:text-base">
                <p>ONEFRAME는 전자책을 잘 쓰게 만드는 강의가 아닙니다. 전자책을 끝내기 위해 가장 먼저 필요한 ‘0번 기획 기준’을 정리하는 디지털 콘텐츠입니다.</p>
                <p>이 콘텐츠는 제목·목차·원고를 쓰기 전에 무엇을 먼저 정리해야 하는지를 단계별로 안내합니다.</p>
                <div class="grid md:grid-cols-2 gap-4 mt-2">
                    <div class="space-y-1">
                        <p class="font-semibold text-gray-900">제공 형태</p>
                        <p>- 디지털 콘텐츠 (웹 기반 / 즉시 이용)</p>
                        <p>- 결제 완료 즉시 제공</p>
                    </div>
                    <div class="space-y-1">
                        <p class="font-semibold text-gray-900">환불 정책 요약</p>
                        <p>- 디지털 콘텐츠 특성상 결제 후 즉시 제공</p>
                        <p>- 결제일 기준 3일 이내, 콘텐츠 미열람 시에만 환불 가능</p>
                        <p>- 상세 환불 정책은 하단에 명시</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="flex-grow flex items-center justify-center py-6 px-4 sm:px-6">
        <div class="w-full max-w-5xl grid md:grid-cols-2 gap-8 lg:gap-12">
            
            <!-- Left: Order Summary -->
            <div class="space-y-6">
                <div class="glass-panel p-8 rounded-2xl">
                    <h2 class="text-xl font-semibold mb-6 text-gray-900">주문 내역</h2>
                    
                    <div class="flex gap-4 mb-6">
                        <div class="w-20 h-20 rounded-lg bg-teal-50 flex items-center justify-center shrink-0">
                            <i data-lucide="package" class="w-10 h-10 text-teal-600"></i>
                        </div>
                        <div>
                            <h3 class="font-medium text-lg text-gray-900">ONEFRAME 전자책 완주 기획 시스템</h3>
                            <p class="text-gray-500 text-sm">끝내기 위한 첫 기준</p>
                            <div class="mt-2 inline-flex items-center gap-1 text-xs text-teal-700 bg-teal-50 px-2 py-0.5 rounded">
                                <i data-lucide="check" class="w-3 h-3"></i> Digital Delivery
                            </div>
                        </div>
                    </div>

                    <div class="space-y-3 border-t border-gray-200 pt-4 text-sm">
                        <div class="flex justify-between text-gray-500">
                            <span>상품 금액</span>
                            <span>₩39,000</span>
                        </div>
                        <div class="flex justify-between text-gray-500">
                            <span>할인 금액</span>
                            <span>-₩0</span>
                        </div>
                        <div class="flex justify-between text-gray-900 font-bold text-lg pt-2 border-t border-gray-200 mt-2">
                            <span>최종 결제 금액</span>
                            <span>₩39,000</span>
                        </div>
                    </div>
                </div>

                <div class="bg-white/50 p-6 rounded-xl border border-gray-200">
                    <div class="flex gap-3">
                        <i data-lucide="shield-check" class="w-5 h-5 text-gray-400 shrink-0"></i>
                        <p class="text-xs text-gray-500 leading-relaxed">
                            본 상품은 디지털 콘텐츠로, 결제 즉시 다운로드 링크가 제공됩니다. 
                            안전한 결제를 위해 256-bit SSL 암호화 통신을 사용합니다.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Right: Payment Form -->
            <div class="glass-panel p-8 rounded-2xl h-fit">
                <h2 class="text-xl font-semibold mb-6 text-gray-900">결제 정보 입력</h2>
                
                <form id="payment-form" onsubmit="handlePayment(event)" class="space-y-4">
                    <div class="space-y-2">
                        <label class="text-sm text-gray-500">이메일 주소 (상품 수령용)</label>
                        <input type="email" required placeholder="example@email.com" class="w-full px-4 py-3 rounded-lg input-field">
                    </div>

                    <div class="space-y-2">
                        <label class="text-sm text-gray-500">카드 번호</label>
                        <div class="relative">
                            <input type="text" placeholder="0000 0000 0000 0000" class="w-full px-4 py-3 rounded-lg input-field pl-12">
                            <i data-lucide="credit-card" class="absolute left-4 top-3.5 w-5 h-5 text-gray-400"></i>
                        </div>
                    </div>

                    <div class="grid grid-cols-2 gap-4">
                        <div class="space-y-2">
                            <label class="text-sm text-gray-500">유효기간</label>
                            <input type="text" placeholder="MM / YY" class="w-full px-4 py-3 rounded-lg input-field">
                        </div>
                        <div class="space-y-2">
                            <label class="text-sm text-gray-500">CVC</label>
                            <input type="text" placeholder="123" class="w-full px-4 py-3 rounded-lg input-field">
                        </div>
                    </div>

                    <div class="pt-2">
                        <p class="text-sm text-gray-600 mb-2">지금 필요한 건 더 많은 정보가 아니라, 시작을 가능하게 만드는 기준입니다.</p>
                        <button type="submit" id="pay-btn" class="w-full py-4 bg-gray-900 text-white rounded-lg font-bold text-lg hover:bg-black transition-colors flex items-center justify-center gap-2 shadow-lg">
                            <span id="btn-text">전자책 완주 시작하기 (39,000원)</span>
                            <div id="spinner" class="hidden w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"></div>
                        </button>
                    </div>

                    <div class="pt-3 grid grid-cols-1 md:grid-cols-2 gap-3">
                        <button type="button" id="kakao-btn" class="w-full py-3 rounded-lg font-bold text-sm flex items-center justify-center gap-2 shadow-sm"
                                style="background-color:#F7E600; color:#000;">
                            <span>카카오페이로 결제</span>
                        </button>
                        <button type="button" id="naver-btn" class="w-full py-3 rounded-lg font-bold text-sm flex items-center justify-center gap-2 shadow-sm"
                                style="background-color:#03C75A; color:#fff;">
                            <span>네이버페이로 결제</span>
                        </button>
                    </div>
                    
                    <p class="text-center text-xs text-gray-400 mt-4">
                        '결제하기'를 클릭하면 <a href="#" class="underline">이용약관</a>에 동의하게 됩니다.
                    </p>
                </form>
            </div>
        </div>
    </div>

    <div class="max-w-5xl mx-auto px-6 pb-12">
        <div class="bg-white/70 border border-gray-200 rounded-xl p-6 space-y-3">
            <p class="text-gray-900 font-semibold">이 결제는 전자책을 ‘지금 쓰기로 결정한 선택’입니다.</p>
            <p class="text-gray-600 text-sm">전자책은 결제했다고 바로 완성되지 않습니다. 하지만 결제하지 않으면 계속 미뤄집니다.</p>
            <p class="text-gray-700 text-sm">ONEFRAME는 결과를 보장하지 않습니다. 대신, 시작을 미루지 않게 만드는 기준을 제공합니다.</p>
            <p class="text-gray-500 text-sm">대부분의 전자책은 능력이 부족해서가 아니라, 기준이 없어서 멈춥니다.</p>
        </div>
    </div>

    <!-- Footer: PG audit-ready -->
    <footer class="py-12 border-t border-gray-200 text-sm text-gray-600">
        <div class="max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-8">
            <div>
                <h4 class="font-semibold text-gray-900 mb-2">사업자 정보</h4>
                <p>상호명: 덕앤클레오</p>
                <p>대표자명: 안지희</p>
                <p>사업자등록번호: 645-01-01925</p>
                <p>통신판매업 신고번호: 제 2021-인천미추홀-0432 호</p>
                <p>사업장 소재지: 대한민국</p>
            </div>
            <div>
                <h4 class="font-semibold text-gray-900 mb-2">고객지원</h4>
                <p>이메일: <a href="mailto:cleoahn33@gmail.com" class="underline">cleoahn33@gmail.com</a></p>
                <p>응답시간: 평일 10:00~18:00</p>
            </div>
            <div>
                <h4 class="font-semibold text-gray-900 mb-2">상품 및 환불</h4>
                <p>상품 유형: 디지털 콘텐츠 (전자책 / 온라인 콘텐츠)</p>
                <p class="mt-2">디지털 콘텐츠 특성상 결제 후 즉시 제공됩니다.</p>
                <p>결제일로부터 3일 이내이며, 콘텐츠 미열람 또는 미사용에 한해 환불이 가능합니다.</p>
                <p class="mt-2"><a href="/refund.html" class="underline">환불 정책 전문 보기</a></p>
            </div>
        </div>
        <div class="mt-8 text-center text-xs text-gray-400">© 2024 ONEFRAME</div>
    </footer>

    <script>
        lucide.createIcons();

        function handlePayment(e) {
            e.preventDefault();
            
            const btn = document.getElementById('pay-btn');
            const btnText = document.getElementById('btn-text');
            const spinner = document.getElementById('spinner');

            // Loading state
            btn.disabled = true;
            btnText.textContent = '처리 중...';
            spinner.classList.remove('hidden');
            btn.classList.add('opacity-80', 'cursor-not-allowed');

            const params = new URLSearchParams(window.location.search);
            const payLink = params.get('pay');

            if (payLink) {
                window.location.href = payLink;
                return;
            }

            setTimeout(() => {
                window.location.href = 'thank-you.html';
            }, 1500);
        }

        document.addEventListener('DOMContentLoaded', () => {
            const params = new URLSearchParams(window.location.search);
            const kakaoLink = params.get('kakao');
            const naverLink = params.get('naver');

            const kakaoBtn = document.getElementById('kakao-btn');
            const naverBtn = document.getElementById('naver-btn');

            if (kakaoBtn) {
                if (kakaoLink) {
                    kakaoBtn.addEventListener('click', () => {
                        window.location.href = kakaoLink;
                    });
                } else {
                    kakaoBtn.disabled = true;
                    kakaoBtn.setAttribute('aria-disabled', 'true');
                    kakaoBtn.classList.add('opacity-60', 'cursor-not-allowed');
                    kakaoBtn.title = '카카오페이 결제 준비중';
                    kakaoBtn.textContent = '카카오페이 (준비중)';
                }
            }

            if (naverBtn) {
                if (naverLink) {
                    naverBtn.addEventListener('click', () => {
                        window.location.href = naverLink;
                    });
                } else {
                    naverBtn.disabled = true;
                    naverBtn.setAttribute('aria-disabled', 'true');
                    naverBtn.classList.add('opacity-60', 'cursor-not-allowed');
                    naverBtn.title = '네이버페이 결제 준비중';
                    naverBtn.textContent = '네이버페이 (준비중)';
                }
            }
        });
    </script>
</body>
</html>
